<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动态圣诞树</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="800" height="600"></canvas>
    <script>
        // 获取canvas元素
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');

        // 绘制树干
        function drawTrunk() {
            ctx.fillStyle = "saddle brown";
            ctx.fillRect(canvas.width / 2 - 50, canvas.height - 150, 100, 200);
        }

        // 递归绘制树冠
        function drawTree(x, y, branchLength, angle) {
            if (branchLength > 10) {
                ctx.beginPath();
                ctx.moveTo(x, y);
                const newX = x + Math.cos((angle * Math.PI) / 180) * branchLength;
                const newY = y - Math.sin((angle * Math.PI) / 180) * branchLength;
                ctx.lineTo(newX, newY);
                ctx.strokeStyle = "green";
                ctx.lineWidth = branchLength / 10;
                ctx.stroke();

                drawTree(newX, newY, branchLength * 0.7, angle - 20);
                drawTree(newX, newY, branchLength * 0.7, angle + 20);
            }
        }

        // 绘制彩灯（简单示例，用不同颜色点表示）
        function drawLights() {
            const colors = ["red", "yellow", "blue", "orange", "purple"];
            for (let i = 0; i < 20; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * (canvas.height - 150);
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
                ctx.fill();
            }
        }

        // 绘制文字
        function drawText() {
            ctx.font = "30px Arial";
            ctx.fillStyle = "white";
            ctx.textAlign = "center";
            ctx.fillText("薛舒文圣诞节快乐", canvas.width / 2, canvas.height / 2 - 50);
        }

        // 主函数
        function main() {
            drawTrunk();
            drawTree(canvas.width / 2, canvas.height - 150, 100, 90);
            drawLights();
            drawText();
        }

        main();
    </script>
</body>

</html>